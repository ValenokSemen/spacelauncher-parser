
<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:doceng="com.juniper.doceng.util.XSLTExtentions"><head><meta charset="utf-8"></meta><meta http-equiv="X-UA-Compatible" content="IE=Edge"></meta><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"></meta><title>clear bgp neighbor - TechLibrary - Juniper Networks</title><meta name="subject" content="hardwareplatforms,routers,acxseries,hardwareplatforms,routers,mseries,hardwareplatforms,routers,mxseries,hardwareplatforms,firewalls,srxseries,hardwareplatforms,routers,tseries,hardwareplatforms,switches,exseries,hardwareplatforms,switches,qfxseries,qfabric,hardwareplatforms,switches,qfxseries,hardwareplatforms,switches,ocxseries,ocx1100,hardwareplatforms,routers,ptxseries,software,operatingsystems,junossoftware"></meta><meta name="description" content="CLI Command. ACX Series,M Series,MX Series,SRX Series,T Series,EX Series,QFabric System,QFX Series,OCX1100,PTX Series. Perform one of the following tasks:"></meta><meta name="feature" content="[]"></meta><meta name="branchId" content="1406"></meta><meta name="topicid" content="18926"></meta><meta name="relatedtopics" content="18930;"></meta><meta name="platform" content="Hardware Platforms:Routers:ACX Series,Hardware Platforms:Routers:M-series,Hardware Platforms:Routers:MX-series,Hardware Platforms:Firewalls:SRX-series,Hardware Platforms:Routers:T-series,Hardware Platforms:Switches:EX-series,Hardware Platforms:Switches:QFX Series:QFabric,Hardware Platforms:Switches:QFX Series,Hardware Platforms:Switches:OCX Series:OCX1100,Hardware Platforms:Routers:PTX Series"></meta><meta name="software" content="Software:Operating Systems:JUNOS Software"></meta><meta name="supportedlist" content="true"></meta><meta name="release" content="junos 18.4"></meta>
								<link rel="preload" href="https://www.juniper.net/assets/styles/global-nav.css" as="style"><link rel="preload" href="https://www.juniper.net/assets/scripts/global-nav.js" as="script"><link rel="preload" href="/documentation/webstatic/fonts/swmaterialicon.woff" as="font" crossorigin="anonymous"><link href="/documentation/webstatic/css/topic.6c81f650385f2a77454f996cdf811d6f.css" rel="stylesheet"><link rel="preload" as="script" href="/documentation/webstatic/js/manifest.62d07183115fc2b12f82.js"><link rel="preload" as="script" href="/documentation/webstatic/js/vendor.91a9c548f48da22bd953.js"><link rel="preload" as="script" href="/documentation/webstatic/js/topic.7ab877d18ba8073a267e.js">
							<script src="https://assets.adobedtm.com/998b2d6d4944658536fe36266a249b07e626b86d/satelliteLib-6d05b7c7a99e1cbbdcac4fcfe7005e6bee80a0e9.js"></script></head><body style="visibility:hidden;">
	<!--[if lte IE 9]>
	<div class="message-warning"> You are using unsupported version of Internet Explorer. Please upgrade your browser to latest version.</div>
<![endif]-->
<!-- Google Tag Manager -->
<noscript><iframe style="display:none;visibility:hidden" width="0" height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-MHNPL3"></iframe></noscript>
<script>
	(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-MHNPL3');
</script>
<!-- End Google Tag Manager -->

	<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://www.juniper.net",
       "logo": "http://www.juniper.net"
    }                       
  </script>
<script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "WebSite",
      "name" : "Juniper Networks",
      "alternateName" : "Juniper",
      "url" : "https://www.juniper.net/us/en/"
    }
  </script>
<div id="app">
<sw-app inline-template="">
<div v-bind:class="{_fixed: isfixed}"><sw-header></sw-header><sw-change-widget v-bind:scroll="fixcw"></sw-change-widget><section class="main wrapper">
<sw-leftnav v-bind:data-height="leftnavheight" v-bind:data-top="leftnavtop" v-on:menucollapse="menucollapse"></sw-leftnav><sw-rightnav>&nbsp;</sw-rightnav><div class="l-body" v-bind:style="{'min-height':bodyheight+'px'}" v-bind:class="{'collapsed':isleftnavcollapsed}"><nav class="page-options clearfix"><sw-breadcrumb>&nbsp;</sw-breadcrumb></nav><div class="topicBody"><div id="topic-content"><h1 id="jd0e3">clear bgp neighbor</h1><sw-topic-details date="2018-08-30">&nbsp;</sw-topic-details><h4 class="Head4">List of Syntax</h4><a href="#jd0e42">Syntax</a><br></br><a href="#jd0e80">Syntax (EX Series Switch and QFX Series)</a><br></br><h4 id="jd0e42"><h2 id="jd0e43">Syntax</h2></h4><div dir="ltr" id="jd0e45" class="example"><sw-code><template v-pre=""><div class="statement" style="display:block;">clear bgp neighbor </div><div class="statement" style="display:block;">&lt;all&gt;</div><div class="statement" style="display:block;">&lt;as&nbsp;<var v-pre="">as-number</var>&gt;</div><div class="statement" style="display:block;">&lt;gracefully&gt;</div><div class="statement" style="display:block;">&lt;instance&nbsp;<var v-pre="">instance-name</var>&gt;</div><div class="statement" style="display:block;">&lt;logical-system&nbsp;(all&nbsp;|&nbsp;<var v-pre="">logical-system-name</var>)&gt;</div><div class="statement" style="display:block;">&lt;malformed-route&gt;</div><div class="statement" style="display:block;">&lt;<var v-pre="">neighbor</var>&gt;</div><div class="statement" style="display:block;">&lt;soft | soft-inbound&gt;</div><div class="statement" style="display:block;">&lt;soft-minimum-igp&gt;</div><div class="statement" style="display:block;">&lt;stale-routes&gt;</div></template></sw-code></div><h4 id="jd0e80"><h2 id="jd0e81">Syntax (EX Series Switch and QFX Series)</h2></h4><div dir="ltr" id="jd0e83" class="example"><sw-code><template v-pre=""><div class="statement" style="display:block;">clear bgp neighbor </div><div class="statement" style="display:block;">&lt;all&gt;</div><div class="statement" style="display:block;">&lt;as&nbsp;<var v-pre="">as-number</var>&gt;</div><div class="statement" style="display:block;">&lt;instance&nbsp;<var v-pre="">instance-name</var>&gt;</div><div class="statement" style="display:block;">&lt;malformed-route&gt;</div><div class="statement" style="display:block;">&lt;<var v-pre="">neighbor</var>&gt;</div><div class="statement" style="display:block;">&lt;soft | soft-inbound&gt;</div><div class="statement" style="display:block;">&lt;soft-minimum-igp&gt;</div></template></sw-code></div><h4>Release Information</h4><p formatting-option="none" id="jd0e110">Command introduced before Junos OS Release
7.4.</p><p formatting-option="none" id="jd0e112">Command introduced in Junos OS Release 9.0 for EX Series switches.</p><p formatting-option="none" id="jd0e114">Command introduced in Junos OS Release 11.3 for the QFX Series.</p><p formatting-option="none" id="jd0e116">Command introduced in Junos OS Release 14.1X53-D20 for the OCX
Series.</p><p formatting-option="none" id="jd0e118"><span class="cli" v-pre="">malformed-route</span> option introduced in Junos OS Release
13.2.</p><p formatting-option="none" id="jd0e122"><span class="cli" v-pre="">all</span> option introduced in Junos OS Release 14.2.</p><p formatting-option="none" id="jd0e126"><span class="cli" v-pre="">gracefully</span> and <span class="cli" v-pre="">stale-routes</span> options introduced
in Junos OS Release 15.1.</p><h4>Description</h4><p>Perform one of the following tasks:</p><ul><li style=""><p>Change the state of one or more BGP neighbors to <span class="cli" v-pre="">IDLE</span>. For neighbors in the <span class="cli" v-pre="">ESTABLISHED</span> state, this
command drops the TCP connection to the neighbors and then reestablishes
the connection.</p></li><li style=""><p>(<span class="cli" v-pre="">soft</span> keyword only) Reapply export policies and send refresh updates to one or more BGP neighbors without changing their state.</p></li><li style=""><p>(<span class="cli" v-pre="">soft-inbound</span> keyword only) Send a route-refresh message to one or more BGP neighbors without changing their state, and reapply import policies on the
received updates.</p></li></ul><h4>Options</h4><div class="definitionList"><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">all</span><span class="defSep">&#8212;</span><span class="defItem" style="">Change the
state of all BGP neighbors to <span class="cli" v-pre="">IDLE</span>.</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">as&nbsp;<var v-pre="">as-number</var></span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) Apply this command only to neighbors in
the specified autonomous system (AS).</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">gracefully</span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) Enable the
BGP peer to start graceful-restart receiving-speaker mode. The receiving
speaker also sends its own routes to the restarted speaker, and  sends
an End-of-RIB marker when it completes the update. The <span class="cli" v-pre="">clear
bgp neighbor <var v-pre="">neighbor-address</var> gracefully</span>  command is the same as <span class="cli" v-pre="">clear bgp neighbor hard</span> (the
default for <span class="cli" v-pre="">clear bgp neighbor</span>), but it does not use the
new Hard Reset subcode on the Notify and Cease  messages that are
sent. This allows the neighbor to enter GR or LLGR helper mode, if
negotiated. The session is still cleared on this router, and this
router does  not enter GR or LLGR helper mode. </span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">instance<var v-pre="">&nbsp;instance-name</var></span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) Apply this command only to
neighbors for the specified routing instance.</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">logical-system (all |<var v-pre=""> logical-system-name</var>)</span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) Perform this operation on
all logical systems or on a particular logical system.</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">malformed-route</span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) Remove
malformed routes. If a specific neighbor is provided, Junos OS removes
malformed routes for that particular neighbor. Otherwise, Junos OS
removes malformed routes for all BGP neighbors. To find routes that
have malformed attributes, run the <span class="cli" v-pre="">show route hidden</span> command,
and look for routes marked with <span class="screenout" v-pre="">MalformedAttr</span> in the AS path field.</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style=""><var v-pre="">neighbor</var></span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) IP address of a BGP peer. Apply this command only
to the specified neighbor.</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">soft</span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) Reapply
any export policies and send refresh updates to neighbors without
clearing the state.</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">soft-inbound</span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) Send a
route-refresh message to BGP neighbors and reapply import policies on the route updates received from
the BGP neighbors without clearing the BGP state.</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">soft-minimum-igp</span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional)
Provide soft refresh of the outbound state when the interior gateway
protocol (IGP) metric is reset.</span></div></div><div class="defEntryDiv" style=""><div><span class="ExampleInline defTerm" style="">stale-routes</span><span class="defSep">&#8212;</span><span class="defItem" style="">(Optional) Any stale
route currently being held for the specified neighbor because of BGP
graceful restart (GR) or long-lived graceful restart (LLGR) receiver
mode operations.</span></div></div></div><h4>Required Privilege Level</h4><p>clear</p><div class="l-aside-box"><h3>Related Documentation</h3><ul><li style=""><p><a href="show-bgp-neighbor.html">show bgp neighbor</a></p></li></ul></div><h4>List of Sample Output</h4><a href="#jd0e268">clear bgp neighbor</a><br></br><h4>Output Fields</h4><p>When you enter this command, you are provided
feedback on the status of your request.</p><h4>Sample Output</h4><div id="jd0e267"><div id="jd0e268" style=""><p id="jd0e268"><b>clear bgp neighbor</b></p><code>user@host&gt; <kbd class="user-typing" v-pre="">clear bgp neighbor</kbd> </code></div></div><sw-prev-next>&nbsp;</sw-prev-next></div><sw-comments>&nbsp;</sw-comments></div>
</div>
</section>
<sw-pop-over v-bind:head="gterm.head" v-bind:body="gterm.body" v-bind:left="gterm.pos.left" v-bind:top="gterm.pos.top" v-bind:visible="gterm.visible" v-on:close-popover="closegterm()"></sw-pop-over>
<sw-footer></sw-footer>
</div>
</sw-app>
</div>
								<script type="text/javascript" src="/documentation/webstatic/js/manifest.62d07183115fc2b12f82.js"></script><script type="text/javascript" src="/documentation/webstatic/js/vendor.91a9c548f48da22bd953.js"></script><script type="text/javascript" src="/documentation/webstatic/js/topic.7ab877d18ba8073a267e.js"></script>
							<script type="text/javascript">_satellite.pageBottom();</script></body></html>