
<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:doceng="com.juniper.doceng.util.XSLTExtentions"><head><meta charset="utf-8"></meta><meta http-equiv="X-UA-Compatible" content="IE=Edge"></meta><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"></meta><title>authentication-order (Authenticator) - TechLibrary - Juniper Networks</title><meta name="subject" content="hardwareplatforms,switches,exseries,software,operatingsystems,junossoftware"></meta><meta name="description" content="CLI Statement. EX Series. Configure the preferred order of authentication methods that the switch will use when attempting to authenticate a client. If multiple authentication methods are configured on a single interface, when one authentication method fails, the switch falls back to another method."></meta><meta name="feature" content="[7800]"></meta><meta name="branchId" content="1406"></meta><meta name="topicid" content="102239"></meta><meta name="relatedtopics" content="10246,10153,10247,10073,102270;"></meta><meta name="platform" content="Hardware Platforms:Switches:EX-series"></meta><meta name="software" content="Software:Operating Systems:JUNOS Software"></meta><meta name="supportedlist" content="true"></meta><meta name="release" content="junos 18.4"></meta>
								<link rel="preload" href="https://www.juniper.net/assets/styles/global-nav.css" as="style"><link rel="preload" href="https://www.juniper.net/assets/scripts/global-nav.js" as="script"><link rel="preload" href="/documentation/webstatic/fonts/swmaterialicon.woff" as="font" crossorigin="anonymous"><link href="/documentation/webstatic/css/topic.6c81f650385f2a77454f996cdf811d6f.css" rel="stylesheet"><link rel="preload" as="script" href="/documentation/webstatic/js/manifest.62d07183115fc2b12f82.js"><link rel="preload" as="script" href="/documentation/webstatic/js/vendor.91a9c548f48da22bd953.js"><link rel="preload" as="script" href="/documentation/webstatic/js/topic.7ab877d18ba8073a267e.js">
							<script src="https://assets.adobedtm.com/998b2d6d4944658536fe36266a249b07e626b86d/satelliteLib-6d05b7c7a99e1cbbdcac4fcfe7005e6bee80a0e9.js"></script></head><body style="visibility:hidden;">
	<!--[if lte IE 9]>
	<div class="message-warning"> You are using unsupported version of Internet Explorer. Please upgrade your browser to latest version.</div>
<![endif]-->
<!-- Google Tag Manager -->
<noscript><iframe style="display:none;visibility:hidden" width="0" height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-MHNPL3"></iframe></noscript>
<script>
	(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-MHNPL3');
</script>
<!-- End Google Tag Manager -->

	<script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://www.juniper.net",
       "logo": "http://www.juniper.net"
    }                       
  </script>
<script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "WebSite",
      "name" : "Juniper Networks",
      "alternateName" : "Juniper",
      "url" : "https://www.juniper.net/us/en/"
    }
  </script>
<div id="app">
<sw-app inline-template="">
<div v-bind:class="{_fixed: isfixed}"><sw-header></sw-header><sw-change-widget v-bind:scroll="fixcw"></sw-change-widget><section class="main wrapper">
<sw-leftnav v-bind:data-height="leftnavheight" v-bind:data-top="leftnavtop" v-on:menucollapse="menucollapse"></sw-leftnav><sw-rightnav>&nbsp;</sw-rightnav><div class="l-body" v-bind:style="{'min-height':bodyheight+'px'}" v-bind:class="{'collapsed':isleftnavcollapsed}"><nav class="page-options clearfix"><sw-breadcrumb>&nbsp;</sw-breadcrumb></nav><div class="topicBody"><div id="topic-content"><h1 id="jd0e3">authentication-order (Authenticator)</h1><sw-topic-details date="2017-12-14">&nbsp;</sw-topic-details><h4 id="jd0e18">Syntax</h4><div dir="ltr" id="jd0e19" class="example"><sw-code><template v-pre=""><div class="statement" style="display:block;">authentication-order [dot1x | mac-radius | captive-portal];</div></template></sw-code></div><h4>Hierarchy Level</h4><div dir="ltr" id="jd0e23" class="example"><sw-code><template v-pre=""><div class="statement" style="display:block;">[edit protocols <a href="dot1x-802-1x.html">dot1x</a> <a href="authenticator-802-1x.html">authenticator</a> <a href="interface-802-1x.html">interface</a> <var v-pre="">interface-name</var>]</div></template></sw-code></div><h4>Release Information</h4><p formatting-option="none" id="jd0e36">Statement introduced in Junos OS Release
15.1R3 for EX Series switches.</p><h4>Description</h4><p>Configure the preferred order of authentication
methods that the switch will use when attempting to authenticate a
client. If multiple authentication methods are configured on a single
interface, when one authentication method fails, the switch falls
back to another method. You can configure the <span class="cli" v-pre="">authentication-order</span> statement to specify whether 802.1X authentication or MAC RADIUS
authentication must be the first authentication method tried. </p><p>By default, the switch attempts to authenticate a client by
using 802.1X authentication first. If 802.1X authentication fails
because there is no response from the client, and MAC RADIUS authentication
is configured on the interface, the switch falls back to MAC RADIUS
authentication. If MAC RADIUS fails, and captive portal is configured
on the switch, the switch falls back to captive portal. </p><p>Configuring MAC RADIUS authentication as the first method can
help prevent the fallback timeout period which occurs after an 802.1X
authentication attempt is made for a host that does not support 802.1X
authentication. If MAC RADIUS authentication is configured as the
first authentication method on an interface, then on receiving data
from any client on that interface, the switch attempts to authenticate
the client by using MAC RADIUS authentication. If MAC RADIUS authentication
fails, then the switch falls back to 802.1X authentication. If 802.1X
authentication fails, and captive portal is configured on the interface,
the switch falls back to captive portal. </p><p>802.1X authentication always has the highest priority, even
if a client has been authenticated using another method. If the switch
receives an EAP packet from a client that has been authenticated using
MAC RADIUS authentication, the switch acknowledges the EAP packet
and upgrades the authentication using 802.1X authentication credentials.
Similarly, if a client has been authenticated through fallback to
captive portal, and the switch receives an EAP packet from that client,
the switch attempts to authenticate the client by using 802.1X authentication. </p><p>The switch attempts authentication using only methods that are
configured on the interface. If an authentication method is included
in the authentication order, but is not configured on the interface,
the switch ignores that method and attempts authentication using the
next method in the order that is enabled. However, if a method is
enabled on the interface, but is not included in the authentication
order, the switch does not attempt using that method. For example,
if captive portal is enabled for an interface, but the authentication
order is configured as <span class="cli" v-pre="">[mac-radius dot1x]</span>, the authentication
method for that interface does not fall back to captive portal. </p><p>The authentication order can be configured for all interfaces
by using the <span class="cli" v-pre="">interface all</span> option. If the authentication
order is configured for an individual interface, and there is also
an authentication order configured for all interfaces, then the order
for the individual interface is followed. If there is no authentication
order configured for an individual interface, and there is an authentication
order configured for all interfaces, then the configuration for all
interfaces is followed.</p><div style=""><p>Use the following guidelines when configuring the <span class="cli" v-pre="">authentication-order</span> statement:</p></div><ul><li style=""><p>The authentication order must include at least two methods
of authentication. </p></li><li style=""><p>802.1X authentication must be one of the methods included
in the authentication order. </p></li><li style=""><p>If captive portal is included in the authentication order,
it must be the last method in the order.</p></li><li style=""><p>If <span class="cli" v-pre="">mac-radius-restrict</span> is configured on an
interface, then the authentication order cannot be configured.</p></li></ul><div style=""><p>The valid combinations for <span class="cli" v-pre="">authentication-order</span> are as follows:</p></div><ul><li style=""><p><span class="cli" v-pre="">[dot1x mac-radius captive-portal]</span></p></li><li style=""><p><span class="cli" v-pre="">[dot1x captive-portal]</span></p></li><li style=""><p><span class="cli" v-pre="">[dot1x mac-radius]</span></p></li><li style=""><p><span class="cli" v-pre="">[mac-radius dot1x captive-portal]</span></p></li></ul><h4>Default</h4><p>If <span class="cli" v-pre="">authentication-order </span>is not configured,
the switch attempts to authenticate the client by using 802.1X authentication
first, followed by MAC RADIUS authentication, and then captive portal,
as follows: </p><ol type="1"><li id="jd0e112" style="">802.1X authentication&#8212;If 802.1X is configured on
the interface, the switch sends EAPoL requests to the end device and
attempts to authenticate the end device through 802.1X authentication.
If the end device does not respond to the EAP requests, the switch
checks whether MAC RADIUS authentication is configured on the interface.</li><li id="jd0e115" style="">MAC RADIUS authentication&#8212;If MAC RADIUS authentication
is configured on the interface, the switch sends the MAC RADIUS address
of the end device to the authentication server. If MAC RADIUS authentication
is not configured, the switch checks whether captive portal is configured
on the interface.</li><li id="jd0e118" style="">Captive portal authentication&#8212;If captive portal
is configured on the interface, the switch attempts to authenticate
the end device by using this method after attempting any other configured
authentication methods. </li></ol><h4>Options</h4><p><span class="cli" v-pre="">captive-portal</span>&#8212;Configure captive
portal authentication in the order of authentication methods on the
interface.</p><p><span class="cli" v-pre="">dot1x</span>&#8212;Configure 802.1X authentication in the
order of authentication methods on the interface.</p><p><span class="cli" v-pre="">mac-radius</span>&#8212;Configure MAC RADIUS authentication
in the order of authentication methods on the interface.</p><h4>Required Privilege Level</h4><p>admin&#8212;To view this statement in the configuration.<br></br>admin-control&#8212;To add this statement to the configuration.</p><div class="l-aside-box"><h3>Related Documentation</h3><ul><li style=""><p> <a href="../../concept/authentication-understanding-ex-series-switches.html">Understanding Authentication on Switches</a></p></li><li style=""><p><a href="../../task/configuration/authentication-order-ex-series-cli.html">Configuring Flexible Authentication Order</a></p></li></ul></div><sw-prev-next>&nbsp;</sw-prev-next></div><sw-comments>&nbsp;</sw-comments></div>
</div>
</section>
<sw-pop-over v-bind:head="gterm.head" v-bind:body="gterm.body" v-bind:left="gterm.pos.left" v-bind:top="gterm.pos.top" v-bind:visible="gterm.visible" v-on:close-popover="closegterm()"></sw-pop-over>
<sw-footer></sw-footer>
</div>
</sw-app>
</div>
								<script type="text/javascript" src="/documentation/webstatic/js/manifest.62d07183115fc2b12f82.js"></script><script type="text/javascript" src="/documentation/webstatic/js/vendor.91a9c548f48da22bd953.js"></script><script type="text/javascript" src="/documentation/webstatic/js/topic.7ab877d18ba8073a267e.js"></script>
							<script type="text/javascript">_satellite.pageBottom();</script></body></html>